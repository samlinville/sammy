---
import Shell from '../components/Shell.astro'
import { SOCIAL_LINKS } from '../config';

// Use Astro.glob() to fetch all posts, and then sort them by date.
const posts = (await Astro.glob('./blog/*.{md,mdx}')).sort(
	(a, b) => new Date(b.frontmatter.pubDate).valueOf() - new Date(a.frontmatter.pubDate).valueOf()
);
---
<Shell>
	<p>
		<span class="font-mono"><em>Design + code.</em></span> On a journey to build good things. Interested in cloud infrastructure, security, and developer experience. Product Manager for <a rel="noreferrer noopener" href="https://vaultproject.io" target="_blank">HashiCorp Vault</a>. 
	</p>
	<!-- <div class="mt-10">
		<h2 class="text-sm text-zinc-400 mb-2">Previously</h2>
		<p class="">User Experience at Red Hat. Design at NC State. Business at Stanford GSB.</p>
	</div> -->
	<div class="mt-16 grid grid-cols-4 gap-16">
		<div class="elsewhere col-span-4 sm:col-span-1 order-last sm:order-first">
			<h2 class="text-sm text-zinc-400 mb-4">Elsewhere</h2>
			<ul class="grid grid-cols-2 gap-x-4">
				<li class="col-span-1 sm:col-span-2">
					<p class="mb-0">
						<a rel="noreferrer noopener" href={SOCIAL_LINKS.mastodon.link} target="_blank">{SOCIAL_LINKS.mastodon.title}</a>
					</p>
					<p class="text-zinc-400">{SOCIAL_LINKS.mastodon.handle}</p>
				</li>
				<li class="col-span-1 sm:col-span-2">
					<p class="mb-0">
						<a rel="noreferrer noopener" href={SOCIAL_LINKS.github.link} target="_blank">{SOCIAL_LINKS.github.title}</a>
					</p>
					<p class="text-zinc-400">{SOCIAL_LINKS.github.handle}</p>
				</li>
				<li class="col-span-1 sm:col-span-2">
					<p class="mb-0">
						<a rel="noreferrer noopener" href={SOCIAL_LINKS.twitter.link} target="_blank">{SOCIAL_LINKS.twitter.title}</a>
					</p>
					<p class="text-zinc-400">{SOCIAL_LINKS.twitter.handle}</p>
				</li>
				<li class="col-span-1 sm:col-span-2">
					<p class="mb-0">
						<a rel="noreferrer noopener" href={SOCIAL_LINKS.linkedin.link} target="_blank">{SOCIAL_LINKS.linkedin.title}</a>
					</p>
					<p class="text-zinc-400">{SOCIAL_LINKS.linkedin.handle}</p>
				</li>
			</ul>
		</div>
		<div class="writing col-span-4 sm:col-span-3">
			<h2 class="text-sm text-zinc-400 mb-4">Recent blogs</h2>
			<ul>

				{posts.slice(0, 3).map((post) => (
					<li>
						<p class="mb-0">
							<a href={post.url}>{post.frontmatter.title}</a>
						</p>
						<p class="text-zinc-400">{post.frontmatter.description}</p>
					</li>
					))}
				<li>
					<p class="mb-0">
						<a href="/blog">All blogs</a>
					</p>
				</li>
			</ul>
		</div>
	</div>
</Shell>
